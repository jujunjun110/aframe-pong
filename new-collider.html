<html>

<head>
    <title>Aframe-Pong</title>
    <script src="./build.js"></script>
    <script src="./app.js"></script>
</head>

<body>
    <!-- <a-scene physics="debug: true;gravity: 0;friction: 0; restitution: 1.0;" antialias="true"> -->
    <a-scene physics="debug: false;gravity: 0;friction: 0; restitution: 1.0;" antialias="true">
        <a-assets>
            <a-mixin id="wall" geometry="primitive:box" static-body scale="1.7 4 0.1" material="color:lightblue"></a-mixin>
            <a-mixin id="goal-wall" static-body material="opacity:0;" scale="100 100 1"></a-mixin>
            <a-mixin id="racket" geometry="primitive:box;width:0.4;height:0.4;depth:0.1" material="color: black; opacity:0.8"></a-mixin>
            <a-mixin id="racket-collider" player static-body geometry="primitive:box;width:0.4;height:0.4;depth:0.4" material="opacity:0" position="0 0 0.2"></a-mixin>
        </a-assets>

        <a-sphere id="ball" radius="0.1" material="color: lightgreen" ball dynamic-body position="0 1 -2"></a-sphere>

        <a-entity vive-controls="hand: left">
            <a-entity vive-controls="hand: right">
                <a-entity player mixin="racket-collider">
                    <a-entity mixin="racket"></a-entity>
                </a-entity>
            </a-entity>
        </a-entity>
        <a-entity vive-controls="hand: right">
            <a-entity player mixin="racket-collider">
                <a-entity mixin="racket"></a-entity>
            </a-entity>
        </a-entity>
        <a-entity id="enemy" static-body position="0 1.0 -4.0" enemy="efficiency: 0.1" mixin="racket" material="color:red;opacity:1;"></a-entity>

        <a-entity mixin="wall" position=" 0.8  1.0 -2" rotation="  0 -90 -90"></a-entity>
        <a-entity mixin="wall" position="-0.8  1.0 -2" rotation="  0  90 -90"></a-entity>
        <a-entity mixin="wall" position="   0  0.2 -2" rotation="-90   0   0"></a-entity>
        <a-entity mixin="wall" position="   0  1.8 -2" rotation=" 90   0   0"></a-entity>
        <a-entity id="lcd" bmfont-text="text: 0 - 0;align:center;" position="-2.5 1 -2"></a-entity>
        <a-plane goal-wall="side: player" position="0 1  1" mixin="goal-wall"></a-plane>
        <a-plane goal-wall="side: enemy " position="0 1 -5" mixin="goal-wall"></a-plane>
        <a-sky color="#ccc"></a-sky>
        <a-camera position="0 0 0" raycaster></a-camera>
        <a-entity id="head-controls" visible="false">
            <a-entity id="head-player" mixin="racket-collider">
                <a-entity mixin="racket"></a-entity>
            </a-entity>
            <a-plane player-mover material="opacity:0;" position="0 1.0 -0.2" scale="1.3 1.3 0.1"></a-plane>
        </a-entity>
    </a-scene>
</body>

</html>
